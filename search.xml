<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Lint found fatal errors while assembling a release target</title>
    <url>/2020/11/23/apk-release-lint/</url>
    <content><![CDATA[<p><strong>转载文章 原文链接：<a href="https://www.jianshu.com/p/6b82ddbeab5d">https://www.jianshu.com/p/6b82ddbeab5d</a></strong></p>
<p>Android在debug模式下应用没有问题，但是在打包release版本时出现一下问题：</p>
<p><img src="/imgs/apk-release-lint-reason.webp"></p>
<p>提示中，关闭lint checkReleaseBuilds 的检查，可以这样实现：</p>
<p><img src="/imgs/1.webp"></p>
<p>虽然这样可以解决问题，但是没有解决根本问题。也就是说隐患依旧会存在。</p>
<p>lint 是代码检查，可以优化代码，发现一些潜在的bug，所以尽量不要关闭</p>
<p>这个错误报告会生成在</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[app module]&#x2F;build&#x2F;reports&#x2F;lint-results-yourBuildName-fatal.html </span><br></pre></td></tr></table></figure>

<p>打开这个网页，一定要用浏览器打开。</p>
<p><img src="/imgs/2.webp"></p>
<p>这样错误就很明显了，改掉即可。</p>
]]></content>
      <categories>
        <category>Android开发问题汇总</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>release</tag>
        <tag>lint</tag>
      </tags>
  </entry>
  <entry>
    <title>Android Studio 设置国内镜像网站</title>
    <url>/2020/11/23/as-http-proxy/</url>
    <content><![CDATA[<p><strong>转载文章 原文链接：<a href="https://www.jianshu.com/p/0936af70cda3">https://www.jianshu.com/p/0936af70cda3</a></strong></p>
<p>我们平时在使用android studio时，难免需要从android官网下载一些项目运行所需要的SDK文件，但是因为android官网在国外，访问起来会比较慢，所以配置国内android官网镜像网站可以提高下载速度，这里比较常用的android镜像网站是电子科技大学的镜像网站：mirrors.dormforce.net 端口：80</p>
<p>通过File=》Setting=》Appearance &amp; Behavior =》System Settings =》Http Proxy，选择Auto-detect proxy settings，并且填写URL为：mirrors.dormforce.net :80，点击clear passwords，最后点击OK保存设置即可</p>
<p><img src="/imgs/4.webp"></p>
]]></content>
      <categories>
        <category>Android开发基础</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Android Studio</tag>
        <tag>国内镜像网站访问地址</tag>
      </tags>
  </entry>
  <entry>
    <title>Android 更换 APP Logo 无效问题处理</title>
    <url>/2020/11/24/app-logo-invalid/</url>
    <content><![CDATA[<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><p>在 AndroidManifest.xml 文件中，修改 APP logo 后，桌面显示的图标还是以前的图标，新修改的 logo 未生效</p>
<h2 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h2><p>确保修改 logo 的方式正确</p>
<p>正常情况下，APP logo 修改无效的情况是不会出现的</p>
<p>楼主使用的测试机是被刷机过的，导致某些系统文件缺失</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>在手机系统【设置】中，找到【应用程序】，并找到安装的应用，点击【清除数据】，再点击【清除缓存】，然后将应用卸载。</p>
<blockquote>
<p>每个品牌手机清除应用数据的方式或菜单可能不一样，但原理都是一样的，即将应用的全部数据清除，然后再将应用卸载。</p>
</blockquote>
<p>打开开发项目，先将项目【clean】，然后再【rebuild】，之后重新向手机安装应用即可。</p>
]]></content>
      <categories>
        <category>Android开发问题汇总</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>logo</tag>
        <tag>app</tag>
        <tag>logo更换无效</tag>
      </tags>
  </entry>
  <entry>
    <title>我的 CSDN 博客 https://blog.csdn.net/zhaikun68</title>
    <url>/2020/11/19/blog-csdn/</url>
    <content><![CDATA[<p>文章同步更新至 CSDN 博客 <a href="https://blog.csdn.net/zhaikun68">我的 CSDN 博客</a></p>
]]></content>
      <categories>
        <category>CSDN博客</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>CSDN</tag>
      </tags>
  </entry>
  <entry>
    <title>站点访问人数 Buszanui 插件数据统计错误</title>
    <url>/2020/11/18/buszanui-visitor-count/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在使用 Hexo 搭建博客时，在博客中集成了站点访问数据量统计插件 <a href="http://busuanzi.ibruce.info/">busuanzi</a>。在本地启动服务后，统计数据错误。</p>
<blockquote>
<p>本地服务中，busuanzi 统计的数据信息未从0开始且起始数据显示过于庞大</p>
</blockquote>
<h2 id="busuanzi-站点起始统计数据"><a href="#busuanzi-站点起始统计数据" class="headerlink" title="busuanzi 站点起始统计数据"></a>busuanzi 站点起始统计数据</h2><p><img src="/imgs/busuanzi-visitor-count-website.png"></p>
<h2 id="busuanzi-页面起始统计数据"><a href="#busuanzi-页面起始统计数据" class="headerlink" title="busuanzi 页面起始统计数据"></a>busuanzi 页面起始统计数据</h2><p><img src="/imgs/busuanzi-visitor-count-post.png"></p>
<h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><p>静态网站是无后台服务支撑的，大多数情况下都需要借助第三方的插件实现相关功能。</p>
<p>上述的问题是在本地项目执行命令：Hexo s，后产生的，具体的原因博主也没有弄清楚。猜测是在本地部署时，busuanzi 自身的初始化数据，或是博客主题（butterfly）中的初始化数据…</p>
<blockquote>
<p>将项目部署到静态网站后，busuanzi 数据统计正常</p>
</blockquote>
<p>总结：busuanzi 数据统计不能依赖于本地服务</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>博客部署到相关的静态网站即可</p>
<h2 id="静态网站"><a href="#静态网站" class="headerlink" title="静态网站"></a>静态网站</h2><ul>
<li>GitHub Page</li>
<li>Gitee Page</li>
<li>Coding</li>
</ul>
]]></content>
      <categories>
        <category>Hexo配置问题汇总</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Buszanui</tag>
        <tag>站点数据统计</tag>
      </tags>
  </entry>
  <entry>
    <title>Fragment中嵌套Fragment，不显示</title>
    <url>/2020/11/23/fragment-child-fragment/</url>
    <content><![CDATA[<p><strong>转载文章 原文链接：<a href="https://www.jianshu.com/p/e146698482f5">https://www.jianshu.com/p/e146698482f5</a></strong></p>
<p>先看一段错误代码，这段代码写在一个 Fragment 中：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">private void initView()&#123;</span><br><span class="line">    mViewPageAdpater &#x3D; new ViewPageAdpater( getFragmentManager() );</span><br><span class="line">    </span><br><span class="line">    mFragments.add( new BoonListFragment() );</span><br><span class="line">    mTitles.add( &quot;title1&quot; );</span><br><span class="line">    mFragments.add( new BoonListFragment() );</span><br><span class="line">    mTitles.add( &quot;title2&quot; );</span><br><span class="line">    mFragments.add( new BoonListFragment() );</span><br><span class="line">    mTitles.add( &quot;title3&quot; );</span><br><span class="line">    </span><br><span class="line">    mViewPageAdpater.setFragments( mFragments, mTitles );       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这段代码看上去一切正常，但是有时候就是好好的就是现实不出来，找来找去死活找不到原因。<br>一切东西都是普通的再不普通不过的 List 或者 Adapter，List这么简单的东西还能出问题？<br>那就是Adapter的问题了，Adapter里面实现的不对吗？也没有问题啊，就那么简单的几个方法。</p>
<p>最后终于发现，问题就在 new ViewPageAdpater( getFragmentManager() ); 这里。</p>
<p>之前就知道 fragment中嵌套fragment 应该使用 getChildFragmentManager() ，每次用起来都是忘了。<br>自己把自己丢坑里去了。<br>发现了之后，清楚的想起了，自己之前被坑过一次，这次又…………</p>
<p>正确的写法：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">private void initView()&#123;</span><br><span class="line">    mViewPageAdpater &#x3D; new ViewPageAdpater( getChildFragmentManager() );</span><br><span class="line">    </span><br><span class="line">    mFragments.add( new BoonListFragment() );</span><br><span class="line">    mTitles.add( &quot;title1&quot; );</span><br><span class="line">    mFragments.add( new BoonListFragment() );</span><br><span class="line">    mTitles.add( &quot;title2&quot; );</span><br><span class="line">    mFragments.add( new BoonListFragment() );</span><br><span class="line">    mTitles.add( &quot;title3&quot; );</span><br><span class="line">    </span><br><span class="line">    mViewPageAdpater.setFragments( mFragments, mTitles );       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以后每当在 Fragment 中要用到 FragmentManager 的时候一定要记住，使用 getChildFragmentManager()。</p>
]]></content>
      <categories>
        <category>Android开发问题汇总</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>fragment</tag>
        <tag>child fragment</tag>
        <tag>嵌套</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo + Coding 搭建博客之自定义域名的坑</title>
    <url>/2020/11/18/coding-dns/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Hexo 搭建的博客一般都是托管到第三方网站，如GitHub、Gitee、Coding。</p>
<p>通常情况下，大多数教程或者是 Hexo 官网都介绍的是部署到 GitHub，但众所周知，GitHub的访问速度实在跟不上节奏，故而出现了双访问通道的部署方式：</p>
<ul>
<li>国内线路部署到 Coding</li>
<li>国外线路部署到 GitHub</li>
</ul>
<p>本文主要讨论部署到 Coding 时，应注意的细节。</p>
<h1 id="Hexo-部署到-Coding-的大致流程"><a href="#Hexo-部署到-Coding-的大致流程" class="headerlink" title="Hexo 部署到 Coding 的大致流程"></a>Hexo 部署到 Coding 的大致流程</h1><p>1 申请 <a href="https://e.coding.net/login">Coding</a> 账号</p>
<p>2 在 Coding 创建项目</p>
<p>3 本地 Hexo 项目提交至 Coding</p>
<p>4 Coding 部署静态网站</p>
<p>具体流程官网文档已经很详细了<a href="https://help.coding.net/docs/pages/practice/hexo.html">快速搭建 Hexo 个人博客</a></p>
<h1 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h1><p>官方文档<a href="https://help.coding.net/docs/pages/operating/customize.html">自定义域名配置</a></p>
<p>为什么要自定义域名：</p>
<ul>
<li>Coding 部署出来的静态网站访问地址不太友好，比如我的博客地址：<a href="https://coding-pages-bucket-3488949-8014283-4889-371964-1304213829.cos-website.ap-hongkong.myqcloud.com/">https://coding-pages-bucket-3488949-8014283-4889-371964-1304213829.cos-website.ap-hongkong.myqcloud.com/</a></li>
<li>在自定义的域名中可设置站点访问路线，优化访问速度</li>
<li>可视化的域名，比如我的自定义的域名<a href="https://karenchia.net/">https://karenchia.net/</a></li>
</ul>
<h1 id="自定义域名采坑记录"><a href="#自定义域名采坑记录" class="headerlink" title="自定义域名采坑记录"></a>自定义域名采坑记录</h1><p>按照官网所给的文档完成自定义域名后，使用自定义的域名即可访问站点。</p>
<blockquote>
<p>如果自定义的域名需要修改，必须在域名修改成功后，再次将本地的 Hexo 项目重新部署到 Coding。</p>
</blockquote>
<p>本地站点，一定要先执行命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure>

<p>然后重新编译文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>

<p>再将站点部署到 Coding</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>

<p><strong>如果这样还是无法访问，重复以上步骤，多试几次…</strong></p>
<hr>
<h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><p><a href="https://blog.csdn.net/victoryxa/article/details/104286462">Hexo博客部署到码云和Coding</a></p>
]]></content>
      <categories>
        <category>Hexo配置问题汇总</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Coding</tag>
        <tag>自定义域名</tag>
        <tag>域名解析</tag>
        <tag>DNS</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/11/13/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>Hexo独立博客配置</category>
      </categories>
      <tags>
        <tag>HexoDemo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo + Butterfly + GitHub/Coding 搭建个人独立博客</title>
    <url>/2020/11/18/hexo-set-up/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>自从在CSDN写博客以来，开始慢慢觉得应该拥有一个属于自己的博客网站，期间折腾了很多次，结果都不了了知，最近终于将这颗浮躁的心安抚了下来，咱还是做一个有始有终的程序员。</p>
<p>起初写博客只是为了记录自己在平时开发过程中的经历，那些踩过的坑，还有那些优秀的框架。后面逐渐感受到学会一个新的知识点不容易，将这个知识点说得清楚，道得明白，更是不易，写博客也是对自己的一个提高。</p>
<p>在此之前虽然写过一些博客，但内容着实不丰富，也体会到了创作的不易，期待后续能够推出一些高质量的博文。</p>
<p>下面我们开始进入今天的正题。。。</p>
<h1 id="搭建平台"><a href="#搭建平台" class="headerlink" title="搭建平台"></a>搭建平台</h1><p>基于 GitHub + Hexo + NexT 搭建个人博客</p>
<ul>
<li>GitHub 个人博客静态网页托管平台</li>
<li>Hexo 快速、简洁且高效的博客框架，搭建本地静态网页站点</li>
<li>NexT 个人博客主题，样式多样化、功能多样化</li>
</ul>
<h1 id="在使用-Hexo-之前，需要先注册-GitHub-账号"><a href="#在使用-Hexo-之前，需要先注册-GitHub-账号" class="headerlink" title="在使用 Hexo 之前，需要先注册 GitHub 账号"></a>在使用 Hexo 之前，需要先注册 GitHub 账号</h1><p><a href="https://github.com/">注册 GitHub 账号</a></p>
<h1 id="安装配置-Hexo"><a href="#安装配置-Hexo" class="headerlink" title="安装配置 Hexo"></a>安装配置 Hexo</h1><p>Hexo 官方提供了多种主题配置，这里我选择了、、、</p>
<p><a href="https://hexo.io/zh-cn/">Hexo 官方教程</a></p>
<h1 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h1><p><a href="http://theme-next.iissnan.com/theme-settings.html">NexT 主题配置官网</a></p>
<h5 id="这里为什么不详细介绍安装过程？"><a href="#这里为什么不详细介绍安装过程？" class="headerlink" title="这里为什么不详细介绍安装过程？"></a>这里为什么不详细介绍安装过程？</h5><p>官网文档已经将各类配置信息描述得非常清楚，文章中另说明在配置过程中需要注意的问题。</p>
<h1 id="搭建过程中需要注意的问题"><a href="#搭建过程中需要注意的问题" class="headerlink" title="搭建过程中需要注意的问题"></a>搭建过程中需要注意的问题</h1><ul>
<li>在 GitHub 上创建项目时，项目名必须是【你的 GitHub 用户名.github.io】，如：我的 GitHub 用户名为 KarenChia，那么项目的名称为【KarenChia.github.io】</li>
<li>在 Hexo 的站点配置文件 【_config.yml】中的配置信息，均是以 key: value 形式进行配置，尤其要注意的是在 “:” 与 value 之前存在一个【空格】，如无【空格】，配置的相关属性无效。</li>
<li>在将本地静态页面部署到 GitHub 时，仓库地址最好直接选择使用【HTTPS】，如果使用的是【SSH】，需要再对【SSH】进行配置，否则本地站点中的静态网页无法部署到 GitHub 上进行托管。</li>
<li>在部署之前，需要先安装 【 hexo-deployer-git】插件，必须确保插件安装成功。</li>
</ul>
<h1 id="博客主题-Butterfly"><a href="#博客主题-Butterfly" class="headerlink" title="博客主题 Butterfly"></a>博客主题 Butterfly</h1><p>后续已将主题修改为 <a href="https://butterfly.js.org/">Butterfly</a></p>
]]></content>
      <categories>
        <category>Hexo独立博客配置</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Coding</tag>
        <tag>Butterfly</tag>
        <tag>GitHub</tag>
        <tag>个人独立博客</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo Writing Exercise</title>
    <url>/2020/11/16/hexo-writing-exercise/</url>
    <content><![CDATA[<p>Hexo 主题配置的相关命令</p>
<h1 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sticky: 1</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Hexo独立博客配置</category>
      </categories>
      <tags>
        <tag>HexoDemo</tag>
      </tags>
  </entry>
  <entry>
    <title>极光：Unable to get provider cn.jpush.android.service.DownloadProvider</title>
    <url>/2020/11/23/jpush-download-provider/</url>
    <content><![CDATA[<p><strong>转载文章 原文出处：<a href="https://blog.csdn.net/qq_36347817/article/details/88552732">https://blog.csdn.net/qq_36347817/article/details/88552732</a></strong></p>
<p>最近需要将公司以前的项目，安装在一个版本为4.4.2的安卓板子上，准备降级操作。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">报错：java.lang.RuntimeException: Unable to get provider com.amitshekhar.DebugDBInitProvider: java.lang.ClassNotFoundException: Didn&#39;t find class</span><br></pre></td></tr></table></figure>
<p>项目中是由于multiDex配置原因。</p>
<p>因为以前支持版本号为21，现在使用 multidex 需要引入谷歌提供的 android-support-multidex.jar 包。</p>
<p>解决方法：</p>
<p>1.defaultConfig 中添加 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">defaultConfig &#123;</span><br><span class="line">        ······</span><br><span class="line"> </span><br><span class="line">        multiDexEnabled true</span><br><span class="line"> </span><br><span class="line">        ······</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.dependencies 中添加</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">implementation &#39;com.android.support:multidex:1.0.3&#39;</span><br></pre></td></tr></table></figure>
<p>3.代码中加入支持 multidex 的功能：</p>
<p>重写 Application 的 attachBaseContext 方法。</p>
<p>在该方法里面加入MultiDex.install(this)，这个方法比 Application 的 onCreate 要先执行。 </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void attachBaseContext(Context base)&#123;</span><br><span class="line">    super.attachBaseContext(base);</span><br><span class="line">    MultiDex.install(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4.重新运行</p>
]]></content>
      <categories>
        <category>Android开发问题汇总</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>极光</tag>
        <tag>DownloadProvider</tag>
      </tags>
  </entry>
  <entry>
    <title>Butterfly 最新评论 newest-comments 401/资源加载错误（无法获取资料，请确认相关配置是否正确）</title>
    <url>/2020/11/20/newest-comments/</url>
    <content><![CDATA[<p>集成 Butterfly 博客主题中，在配置最新评论 newest comments 时，根据 Butterfly 的配置文档配置完成后，最新评论一直无法显示，提示错误信息：无法获取资料，请确认相关配置是否正确<br><img src="/imgs/newest-comments-401.jpg"></p>
<p>在网页调试模式下，给出的错误信息大致是：找不到加载的资源 401</p>
<h1 id="newest-comments-的配置信息"><a href="#newest-comments-的配置信息" class="headerlink" title="newest_comments 的配置信息"></a>newest_comments 的配置信息</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Aside widget - Newest Comments</span><br><span class="line">newest_comments:</span><br><span class="line">  enable: true</span><br><span class="line">  limit: 6</span><br><span class="line">  avatar: true</span><br><span class="line">  leancloud:</span><br><span class="line">    enable: true</span><br><span class="line">    appId: XXX # leancloud application app id</span><br><span class="line">    appKey: XXX # leancloud application app key</span><br><span class="line">    serverURL: XXX # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">    default_avatar: mp #mp&#x2F;identicon&#x2F;monsterid&#x2F;wavatar&#x2F;retro&#x2F;robohash&#x2F;blank</span><br><span class="line">  github_issues:</span><br><span class="line">    enable: true</span><br><span class="line">    repo: </span><br><span class="line">  # disqus:</span><br><span class="line">  #   enable: true</span><br><span class="line">  #   forum:</span><br><span class="line">  #   api_key:</span><br></pre></td></tr></table></figure>

<p>Butterfly 的主题配置文件中是默认从 Valine 、 disqus 评论插件中读取评论信息，由于 disqus 的访问速度太慢，在我的博客中就没有使用 disqus ，故而将其注解。</p>
<p>而问题也就出在这里 。。。</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>我在这里做出假设：Butterfly 最新评论的显示，需要在其配置文件中至少配置两种不同类型的评论插件。</p>
<p>上文提到，Butterfly 在最新评论处默认配置的 disqus 插件已被注解</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># disqus</span><br><span class="line"># https:&#x2F;&#x2F;disqus.com&#x2F;</span><br><span class="line">disqus:</span><br><span class="line">  shortname:</span><br></pre></td></tr></table></figure>
<p>故而，上面这里关于 disqus 的配置是空的。</p>
<p>在网上找了很长时间的资料，无奈，关于当前问题的文章实在是少之又少，也没有什么具体的解决方法。和 Butterfly 作者联系后，也尝试过些方法，还是没有得到解决 。。。</p>
<p>最终，我考虑换其它的评论插件，因为 Butterfly 中集成了很多的评论插件，也方便集成，具体可查看其文档。就当我集成其它插件结束后，运行本地服务时，最新评论显示出来了<br><img src="/imgs/newest-comments-count.png"></p>
<p>这里集成的插件任意选择一种（已集成的插件除外）即可。</p>
<blockquote>
<p>在本地服务运行期间，之前已经集成的插件并未删除。此时，在配置文件中配置了两种评论插件，我这里配置的是 Valine 和 Twikoo。</p>
</blockquote>
<p>具体的问题原因，其实并没有找到，配置到这里后，最新评论能正常显示了，我就结束了配置。如果你有相关的解决方案，欢迎在评论区留下你的宝贵意见 ！！！</p>
<h2 id="Valine-配置信息"><a href="#Valine-配置信息" class="headerlink" title="Valine 配置信息"></a>Valine 配置信息</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># valine</span><br><span class="line"># https:&#x2F;&#x2F;valine.js.org</span><br><span class="line">valine:</span><br><span class="line">  appId: XXX # leancloud application app id</span><br><span class="line">  appKey: XXX # leancloud application app key</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">  lang: zh-CN # i18n: zh-CN&#x2F;zh-TW&#x2F;en&#x2F;ja</span><br><span class="line">  placeholder: 记得留下你的昵称和邮箱....可以快速收到回復 # valine comment input placeholder (like: Please leave your footprints)</span><br><span class="line">  guest_info: nick,mail,link # valine comment header info (nick&#x2F;mail&#x2F;link)</span><br><span class="line">  recordIP: false # Record reviewer IP</span><br><span class="line">  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">  bg: # valine background</span><br><span class="line">  emojiCDN: # emoji CDN</span><br><span class="line">  enableQQ: false # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">  requiredFields: nick,mail # required fields (nick&#x2F;mail)</span><br><span class="line">  option:</span><br></pre></td></tr></table></figure>

<h2 id="Twikoo-配置信息"><a href="#Twikoo-配置信息" class="headerlink" title="Twikoo 配置信息"></a>Twikoo 配置信息</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Twikoo</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;imaegoo&#x2F;twikoo</span><br><span class="line">twikoo: XXX</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Hexo配置问题汇总</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>Hexo</tag>
        <tag>Butterfly</tag>
        <tag>newest-comments</tag>
        <tag>评论</tag>
        <tag>401</tag>
        <tag>资源加载</tag>
      </tags>
  </entry>
  <entry>
    <title>RecyclerView系列 - RecyclerView的基本使用</title>
    <url>/2020/11/24/recycleview-base-use/</url>
    <content><![CDATA[<blockquote>
<p>文章欢迎转载，转载请注明出处：文章首发于【Karen Chia の 程序人生】<a href="https://blog.csdn.net/ZhaiKun68/article/details/100557688">RecyclerView系列 - RecyclerView的基本使用</a></p>
</blockquote>
<h1 id="按照惯例，先上效果图"><a href="#按照惯例，先上效果图" class="headerlink" title="按照惯例，先上效果图"></a>按照惯例，先上效果图</h1><p><img src="https://img-blog.csdnimg.cn/20190905165047660.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1poYWlLdW42OA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>效果图不是我想要的效果，怎么办？</p>
<p>查看关于 RecyclerView 系列的其它文章，总有你想要的效果 ↓↓↓</p>
<h2 id="KarenChia-的-RecyclerView-系列文章"><a href="#KarenChia-的-RecyclerView-系列文章" class="headerlink" title="KarenChia 的 RecyclerView 系列文章"></a>KarenChia 的 RecyclerView 系列文章</h2><p><a href="https://blog.csdn.net/ZhaiKun68/article/details/100557688">RecyclerView系列 - RecyclerView的基本使用</a></p>
<p><a href="https://blog.csdn.net/ZhaiKun68/article/details/100591943">RecyclerView系列 - 如何优雅的实现分割线</a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>RecyclerView 在本文发布之前，已经出来很久了，之前也有很多关于 RecyclerView 的优秀文章，那我为什么还要在这里写下本文呢，实不相瞒，我是 ListView 的忠实粉，之前很少使用到 RecyclerView，最近发现了不少关于 RecyclerView 的优秀框架，于是开始使用 RecyclerView，在使用第三方优秀框架的同时，也需要了解框架背后对组件进行的处理及封装，便于后期对项目维护。</p>
<h1 id="为什么选择-RecyclerView？"><a href="#为什么选择-RecyclerView？" class="headerlink" title="为什么选择 RecyclerView？"></a>为什么选择 RecyclerView？</h1><p>相对于 ListView、GridView 这类滑动列表组件来说，RecyclerView 具有：</p>
<ul>
<li>使用更加灵活<br>1 通过设置布局管理器，可轻松实现组件列表垂直滑动或水平滑动效果<br>2 给列表的 item 项设置【增加或删除】动画<br>3 当列表组件滑动到顶端或底部时，带有波纹效果，更显列表立体感</li>
<li>代码高度解耦<br>代码高幅度降低了耦合度，维护起来非常方便</li>
<li>拓展方便<br>1 轻松实现 ListView 及 Gridview 组件的相关列表效果，学会 RecyclerView，相当于学会了 ListView + Gridview<br>2 难得一见的【瀑布流】列表滑动效果</li>
</ul>
<h1 id="RecyclerView-不是万能的，存在以下不足："><a href="#RecyclerView-不是万能的，存在以下不足：" class="headerlink" title="RecyclerView 不是万能的，存在以下不足："></a>RecyclerView 不是万能的，存在以下不足：</h1><ul>
<li>不像 ListView那样，它没有分割线的设置方法</li>
<li>没有实现 item 的相关点击事件</li>
</ul>
<p><strong>但是，重点来了：</strong></p>
<p>也正是由于 RecyclerView 存在的这些缺点，我们不就可以根据自己的需求去定义嘛，怎么开心怎么玩！！！</p>
<p>下面开始进入我们今天的主题 ↓↓↓</p>
<h1 id="1-添加依赖"><a href="#1-添加依赖" class="headerlink" title="1 添加依赖"></a>1 添加依赖</h1><p>在 module（一般都是在 app 下） 的 build.gradle 文件下添加组件依赖：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;</span><br></pre></td></tr></table></figure>
<p><strong>注意：由于使用的 Android Studio 版本不同，依赖语句也有所不同，我这里使用的 AS 版本是 V3.4.1</strong> </p>
<h1 id="2-在布局文件中使用-RecyclerView"><a href="#2-在布局文件中使用-RecyclerView" class="headerlink" title="2 在布局文件中使用 RecyclerView"></a>2 在布局文件中使用 RecyclerView</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:background&#x3D;&quot;@color&#x2F;app_bg&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.recyclerview.widget.RecyclerView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;rvTest&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;match_parent&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<h1 id="3-为-RecycleView-设置布局管理器-LinearLayoutManager"><a href="#3-为-RecycleView-设置布局管理器-LinearLayoutManager" class="headerlink" title="3 为 RecycleView 设置布局管理器 LinearLayoutManager"></a>3 为 RecycleView 设置布局管理器 LinearLayoutManager</h1><p>这里列表默认是垂直滑动的</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rvTest.setLayoutManager(new LinearLayoutManager(this));</span><br></pre></td></tr></table></figure>
<p>不要问我为什么，问就【看源码】，看 LinearLayoutManager 构造器源码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Creates a vertical LinearLayoutManager</span><br><span class="line"> *</span><br><span class="line"> * @param context Current context, will be used to access resources.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public LinearLayoutManager(Context context) &#123;</span><br><span class="line">    this(context, RecyclerView.DEFAULT_ORIENTATION, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关于 DEFAULT_ORIENTATION 的定义如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static final int DEFAULT_ORIENTATION &#x3D; VERTICAL;</span><br></pre></td></tr></table></figure>
<p>关于 VERTICAL 的定义如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public static final int VERTICAL &#x3D; LinearLayout.VERTICAL;</span><br></pre></td></tr></table></figure>
<p>源码中使用的属性还是线性布局 LinearLayout 的垂直属性</p>
<p>那么问题来了，我要让 RecyclerView 水平滑动怎么办？</p>
<h2 id="3-1-设置-RecyclerView-列表水平滑动"><a href="#3-1-设置-RecyclerView-列表水平滑动" class="headerlink" title="3.1 设置 RecyclerView 列表水平滑动"></a>3.1 设置 RecyclerView 列表水平滑动</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LinearLayoutManager mLinearLayoutManager &#x3D; new LinearLayoutManager(this);</span><br><span class="line">mLinearLayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);</span><br><span class="line">rvTest.setLayoutManager(mLinearLayoutManager);</span><br></pre></td></tr></table></figure>

<h1 id="4-设置-item-增加和删除时的动画效果"><a href="#4-设置-item-增加和删除时的动画效果" class="headerlink" title="4 设置 item 增加和删除时的动画效果"></a>4 设置 item 增加和删除时的动画效果</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rvTest.setItemAnimator(new DefaultItemAnimator());</span><br></pre></td></tr></table></figure>
<p>这里设置的是 RecyclerView 默认的动画效果</p>
<h1 id="5-设置适配器"><a href="#5-设置适配器" class="headerlink" title="5 设置适配器"></a>5 设置适配器</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mRecyclerViewTestAdapter &#x3D; new RecyclerViewTestAdapter(this, testData);</span><br><span class="line">rvTest.setAdapter(mRecyclerViewTestAdapter);</span><br></pre></td></tr></table></figure>
<p>RecyclerView 的适配器继承至 RecyclerView.Adapter &lt; VH extends ViewHolder &gt;，泛型类型为ViewHolder。</p>
<p>RecyclerView 对 ViewHolder 进行了封装，使得我们使用起来更加的方便，自定义的 ViewHolder 只需继承 RecyclerView.ViewHolder 即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.karenchia.andprimarylp.adapter;</span><br><span class="line"></span><br><span class="line">import android.content.Context;</span><br><span class="line">import android.view.LayoutInflater;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line">import android.widget.TextView;</span><br><span class="line"></span><br><span class="line">import androidx.annotation.NonNull;</span><br><span class="line">import androidx.recyclerview.widget.RecyclerView;</span><br><span class="line"></span><br><span class="line">import com.karenchia.andprimarylp.R;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import butterknife.BindView;</span><br><span class="line">import butterknife.ButterKnife;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * RecyclerView 测试数据适配器</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Created by KarenChia on 2019&#x2F;9&#x2F;4.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class RecyclerViewTestAdapter extends RecyclerView.Adapter&lt;RecyclerViewTestAdapter.RecyclerViewTestViewHolder&gt; &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 上下文对象</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private Context mContext;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 测试数据</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private List&lt;String&gt; testDataList;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 函数构造器</span><br><span class="line">     *</span><br><span class="line">     * @param mContext     上下文对象</span><br><span class="line">     * @param testDataList 测试数据</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public RecyclerViewTestAdapter(Context mContext, List&lt;String&gt; testDataList) &#123;</span><br><span class="line">        this.mContext &#x3D; mContext;</span><br><span class="line">        this.testDataList &#x3D; testDataList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 加载 item 的布局文件</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @NonNull</span><br><span class="line">    @Override</span><br><span class="line">    public RecyclerViewTestViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) &#123;</span><br><span class="line">        return new RecyclerViewTestViewHolder(</span><br><span class="line">                LayoutInflater.from(mContext).inflate(R.layout.item_recycler_view_test, parent, false));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 将数据与 item 视图进行绑定</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Override</span><br><span class="line">    public void onBindViewHolder(@NonNull RecyclerViewTestViewHolder holder, int position) &#123;</span><br><span class="line">        holder.tvData.setText(testDataList.get(position));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int getItemCount() &#123;</span><br><span class="line">        return testDataList &#x3D;&#x3D; null ? 0 : testDataList.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * RecycleView 中 ViewHolder 的定义方式</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public class RecyclerViewTestViewHolder extends RecyclerView.ViewHolder &#123;</span><br><span class="line"></span><br><span class="line">        @BindView(R.id.tvData)</span><br><span class="line">        TextView tvData;</span><br><span class="line"></span><br><span class="line">        public RecyclerViewTestViewHolder(@NonNull View itemView) &#123;</span><br><span class="line">            super(itemView);</span><br><span class="line">            ButterKnife.bind(this, itemView);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>列表 item 布局文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;</span><br><span class="line">    android:padding&#x3D;&quot;10dp&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;tvData&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:textColor&#x3D;&quot;@android:color&#x2F;black&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<p>至此，RecyclerView 的基本用法结束。</p>
<h1 id="6-相关类的代码"><a href="#6-相关类的代码" class="headerlink" title="6 相关类的代码"></a>6 相关类的代码</h1><p>这里贴一下相关类的代码实现</p>
<p>项目使用的是 MVP 模式，别问我为什么要使用 MVP 模式，问就请看这里：<a href="https://blog.csdn.net/ZhaiKun68/article/details/100033584#1_AndroidMVP_3">https://blog.csdn.net/ZhaiKun68/article/details/100033584#1_AndroidMVP_3</a></p>
<h2 id="6-1-RecyclerViewDemoContract-类"><a href="#6-1-RecyclerViewDemoContract-类" class="headerlink" title="6.1 RecyclerViewDemoContract 类"></a>6.1 RecyclerViewDemoContract 类</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.karenchia.andprimarylp.ui.contract;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * MVP 模式接口抽取</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Created by KarenChia on 2019&#x2F;9&#x2F;4.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public interface RecyclerViewDemoContract &#123;</span><br><span class="line"></span><br><span class="line">    interface Model &#123;</span><br><span class="line">        &#x2F;**</span><br><span class="line">         * 加载测试数据</span><br><span class="line">         *</span><br><span class="line">         * @return 测试数据</span><br><span class="line">         *&#x2F;</span><br><span class="line">        List&lt;String&gt; testData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    interface View &#123;</span><br><span class="line">        &#x2F;**</span><br><span class="line">         * 显示测试数据列表</span><br><span class="line">         *</span><br><span class="line">         * @param testData 测试数据</span><br><span class="line">         *&#x2F;</span><br><span class="line">        void showTestData(List&lt;String&gt; testData);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    interface Presenter &#123;</span><br><span class="line">        &#x2F;**</span><br><span class="line">         * 获取测试数据</span><br><span class="line">         *&#x2F;</span><br><span class="line">        void getTestData();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-2-RecyclerViewDemoModel-类"><a href="#6-2-RecyclerViewDemoModel-类" class="headerlink" title="6.2 RecyclerViewDemoModel 类"></a>6.2 RecyclerViewDemoModel 类</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.karenchia.andprimarylp.ui.model;</span><br><span class="line"></span><br><span class="line">import com.karenchia.andprimarylp.ui.contract.RecyclerViewDemoContract;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * model 层数据逻辑处理</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Created by KarenChia on 2019&#x2F;9&#x2F;4.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class RecyclerViewDemoModel implements RecyclerViewDemoContract.Model &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 加载测试数据</span><br><span class="line">     *</span><br><span class="line">     * @return 测试数据</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;String&gt; testData() &#123;</span><br><span class="line">        List&lt;String&gt; testData &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">        for (int i &#x3D; 0; i &lt; 20; i++) &#123;</span><br><span class="line">            testData.add(&quot;我是 Karen Chia &quot; + i);</span><br><span class="line">        &#125;</span><br><span class="line">        return testData;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-3-RecyclerViewDemoActivity-类"><a href="#6-3-RecyclerViewDemoActivity-类" class="headerlink" title="6.3 RecyclerViewDemoActivity 类"></a>6.3 RecyclerViewDemoActivity 类</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.karenchia.andprimarylp.ui.activity.newfeature;</span><br><span class="line"></span><br><span class="line">import android.content.Context;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line"></span><br><span class="line">import androidx.annotation.Nullable;</span><br><span class="line">import androidx.appcompat.app.AppCompatActivity;</span><br><span class="line">import androidx.recyclerview.widget.DefaultItemAnimator;</span><br><span class="line">import androidx.recyclerview.widget.LinearLayoutManager;</span><br><span class="line">import androidx.recyclerview.widget.RecyclerView;</span><br><span class="line"></span><br><span class="line">import com.karenchia.andprimarylp.R;</span><br><span class="line">import com.karenchia.andprimarylp.adapter.RecyclerViewTestAdapter;</span><br><span class="line">import com.karenchia.andprimarylp.ui.contract.RecyclerViewDemoContract;</span><br><span class="line">import com.karenchia.andprimarylp.ui.presenter.RecyclerViewDemoPresenter;</span><br><span class="line">import com.socks.library.KLog;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import butterknife.BindView;</span><br><span class="line">import butterknife.ButterKnife;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * RecyclerView 演示类 view 层逻辑处理</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Created by KarenChia on 2019&#x2F;9&#x2F;3.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class RecyclerViewDemoActivity extends AppCompatActivity implements RecyclerViewDemoContract.View &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * view层与model层交互的桥梁</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private RecyclerViewDemoContract.Presenter mPresenter;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * RecyclerView 组件</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @BindView(R.id.rvTest)</span><br><span class="line">    RecyclerView rvTest;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * RecyclerView 的数据适配器</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private RecyclerViewTestAdapter mRecyclerViewTestAdapter;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(@Nullable Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_recycler_view_demo);</span><br><span class="line">        ButterKnife.bind(this);</span><br><span class="line">        mPresenter &#x3D; new RecyclerViewDemoPresenter(this);</span><br><span class="line">        initData();</span><br><span class="line">        initView();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void initData() &#123;</span><br><span class="line">        mPresenter.getTestData();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 组件初始化</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private void initView() &#123;</span><br><span class="line">        &#x2F;&#x2F;为 RecycleView 设置布局管理器</span><br><span class="line">        rvTest.setLayoutManager(new LinearLayoutManager(this));</span><br><span class="line">        &#x2F;&#x2F;LinearLayoutManager mLinearLayoutManager &#x3D; new LinearLayoutManager(this);</span><br><span class="line">        &#x2F;&#x2F;mLinearLayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL);</span><br><span class="line">        &#x2F;&#x2F;rvTest.setLayoutManager(mLinearLayoutManager);</span><br><span class="line">        &#x2F;&#x2F;设置 item 增加和删除时的动画效果</span><br><span class="line">        rvTest.setItemAnimator(new DefaultItemAnimator());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 显示测试数据列表</span><br><span class="line">     *</span><br><span class="line">     * @param testData 测试数据</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Override</span><br><span class="line">    public void showTestData(List&lt;String&gt; testData) &#123;</span><br><span class="line">        &#x2F;&#x2F;设置适配器</span><br><span class="line">        mRecyclerViewTestAdapter &#x3D; new RecyclerViewTestAdapter(this, testData);</span><br><span class="line">        rvTest.setAdapter(mRecyclerViewTestAdapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-4-RecyclerViewDemoPresenter-类"><a href="#6-4-RecyclerViewDemoPresenter-类" class="headerlink" title="6.4 RecyclerViewDemoPresenter 类"></a>6.4 RecyclerViewDemoPresenter 类</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package com.karenchia.andprimarylp.ui.presenter;</span><br><span class="line"></span><br><span class="line">import com.karenchia.andprimarylp.ui.contract.RecyclerViewDemoContract;</span><br><span class="line">import com.karenchia.andprimarylp.ui.model.RecyclerViewDemoModel;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * model层 与 View层 通信的桥梁</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Created by KarenChia on 2019&#x2F;9&#x2F;4.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class RecyclerViewDemoPresenter implements RecyclerViewDemoContract.Presenter &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * model层数据逻辑处理</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private RecyclerViewDemoContract.Model mModel;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * view层交互逻辑处理</span><br><span class="line">     *&#x2F;</span><br><span class="line">    private RecyclerViewDemoContract.View mView;</span><br><span class="line"></span><br><span class="line">    public RecyclerViewDemoPresenter(RecyclerViewDemoContract.View mView) &#123;</span><br><span class="line">        mModel &#x3D; new RecyclerViewDemoModel();</span><br><span class="line">        this.mView &#x3D; mView;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 获取测试数据</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Override</span><br><span class="line">    public void getTestData() &#123;</span><br><span class="line">        mView.showTestData(mModel.testData());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Android开发基础</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RecycleView</tag>
        <tag>ListView</tag>
        <tag>GridView</tag>
      </tags>
  </entry>
  <entry>
    <title>RecyclerView系列 - 如何优雅的实现分割线</title>
    <url>/2020/11/24/recycleview-line/</url>
    <content><![CDATA[<blockquote>
<p>文章欢迎转载，转载请注明出处：文章首发于<a href="https://blog.csdn.net/zhaikun68">【Karen Chia の 程序人生】</a><a href="https://blog.csdn.net/ZhaiKun68/article/details/100591943">RecyclerView系列 - 如何优雅的实现分割线</a></p>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/20190907111120364.gif" alt="在这里插入图片描述"><br>效果图不是我想要的效果，怎么办？</p>
<p>查看关于 RecyclerView 系列的其它文章，总有你想要的效果 ↓↓↓</p>
<h2 id="KarenChia-的-RecyclerView-系列文章"><a href="#KarenChia-的-RecyclerView-系列文章" class="headerlink" title="KarenChia 的 RecyclerView 系列文章"></a>KarenChia 的 RecyclerView 系列文章</h2><p><a href="https://blog.csdn.net/ZhaiKun68/article/details/100557688">RecyclerView系列 - RecyclerView的基本使用</a></p>
<p><a href="https://blog.csdn.net/ZhaiKun68/article/details/100591943">RecyclerView系列 - 如何优雅的实现分割线</a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在 RecyclerView 系列文章中，上一篇我们说到了 RecyclerView 的基本使用，期间提到了 RecyclerView 自身是不能设置分割线的，需要自行设置。本篇文章将从不同的“视角”讲解 RecyclerView 分割线的设置方法，文章建立在上一篇文章【<a href="https://blog.csdn.net/ZhaiKun68/article/details/100557688">RecyclerView系列 - RecyclerView的基本使用</a>】的基础上，如果需要了解 RecyclerView 的基本使用、布局管理器的设置、数据适配器的设置等，请自行查看【<a href="https://blog.csdn.net/ZhaiKun68/article/details/100557688">RecyclerView系列 - RecyclerView的基本使用</a>】</p>
<h1 id="1-RecyclerView-分割线设置方式一"><a href="#1-RecyclerView-分割线设置方式一" class="headerlink" title="1 RecyclerView 分割线设置方式一"></a>1 RecyclerView 分割线设置方式一</h1><h6 id="更改列表子项-item-布局"><a href="#更改列表子项-item-布局" class="headerlink" title="更改列表子项 item 布局"></a>更改列表子项 item 布局</h6><p>这种方式设置的其实不是 RecyclerView 组件的分割线，只是更改了 item 的布局文件，在视觉效果上达到了分割线的效果。</p>
<p>item 的布局文件如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">    android:background&#x3D;&quot;@android:color&#x2F;white&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;tvData&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_margin&#x3D;&quot;10dp&quot;</span><br><span class="line">        android:textColor&#x3D;&quot;@android:color&#x2F;black&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;View</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;viewDivider&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;1dp&quot;</span><br><span class="line">        android:background&#x3D;&quot;@android:color&#x2F;holo_red_dark&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<p>这里在原有文件的基础上，新增了 View 组件，用于实现视觉效果上的分割线。</p>
<p>可设置水平分割线的高度及颜色，更改 View 组件的相关属性即可。</p>
<p>这样的设置方法，在列表的最后一项是带有分割线的，需要在 adapter 的数据与视图进行绑定的方法中，控制 View 组件的显示与隐藏：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 将数据与 item 视图进行绑定</span><br><span class="line"> *&#x2F;</span><br><span class="line">@Override</span><br><span class="line">public void onBindViewHolder(@NonNull RecyclerViewTestViewHolder holder, int position) &#123;</span><br><span class="line">    &#x2F;&#x2F;最后一项 item 不显示分割线</span><br><span class="line">    if (position &#x3D;&#x3D; testDataList.size() - 1) &#123;</span><br><span class="line">        holder.viewDivider.setVisibility(View.GONE);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        holder.viewDivider.setVisibility(View.VISIBLE);</span><br><span class="line">    &#125;</span><br><span class="line">    holder.tvData.setText(testDataList.get(position));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="2-RecyclerView-分割线设置方式二"><a href="#2-RecyclerView-分割线设置方式二" class="headerlink" title="2 RecyclerView 分割线设置方式二"></a>2 RecyclerView 分割线设置方式二</h1><h6 id="使用-Android-自带的分割线"><a href="#使用-Android-自带的分割线" class="headerlink" title="使用 Android 自带的分割线"></a>使用 Android 自带的分割线</h6><p>RecyclerView 提供了 addItemDecoration(@NonNull ItemDecoration decor) 方法，可用于设置系统默认分割线</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public void addItemDecoration(@NonNull ItemDecoration decor) &#123;</span><br><span class="line">    addItemDecoration(decor, -1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>给 RecyclerView 添加分割线</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rvTest.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));</span><br></pre></td></tr></table></figure>
<p>这里的 DividerItemDecoration 采用的是 RecyclerView 组件的背景色</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:background&#x3D;&quot;@color&#x2F;app_bg&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.recyclerview.widget.RecyclerView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;rvTest&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:background&#x3D;&quot;@android:color&#x2F;holo_red_dark&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20190907145121583.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1poYWlLdW42OA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>采用这种方式设置的分割线的高度是系统默认的，我们无法修改分割线的高度。</p>
<h6 id="为了方便修改分割线的高度、颜色，DividerItemDecoration-类提供了-setDrawable-方法，供开发者自定义分割线。"><a href="#为了方便修改分割线的高度、颜色，DividerItemDecoration-类提供了-setDrawable-方法，供开发者自定义分割线。" class="headerlink" title="为了方便修改分割线的高度、颜色，DividerItemDecoration 类提供了 setDrawable() 方法，供开发者自定义分割线。"></a>为了方便修改分割线的高度、颜色，DividerItemDecoration 类提供了 setDrawable() 方法，供开发者自定义分割线。</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * Sets the &#123;@link Drawable&#125; for this divider.</span><br><span class="line"> *</span><br><span class="line"> * @param drawable Drawable that should be used as a divider.</span><br><span class="line"> *&#x2F;</span><br><span class="line">public void setDrawable(@NonNull Drawable drawable) &#123;</span><br><span class="line">    if (drawable &#x3D;&#x3D; null) &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;Drawable cannot be null.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    mDivider &#x3D; drawable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>新建 Drawable 资源文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:shape&#x3D;&quot;rectangle&quot;&gt;</span><br><span class="line">    &lt;solid android:color&#x3D;&quot;@android:color&#x2F;holo_blue_bright&quot; &#x2F;&gt;</span><br><span class="line">    &lt;size android:height&#x3D;&quot;4dp&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;shape&gt;</span><br></pre></td></tr></table></figure>
<p>为 RecyclerView 设置自定义的分割线样式：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DividerItemDecoration dividerItemDecoration &#x3D; new DividerItemDecoration(this, DividerItemDecoration.VERTICAL);</span><br><span class="line">dividerItemDecoration.setDrawable(getResources().getDrawable(R.drawable.shape_recycler_view_divider));</span><br><span class="line">rvTest.addItemDecoration(dividerItemDecoration);</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20190907145509496.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1poYWlLdW42OA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>稍微复杂一点的，可以为分割线定义渐变色，修改 Drawable 资源文件：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:shape&#x3D;&quot;rectangle&quot;&gt;</span><br><span class="line">    &lt;gradient</span><br><span class="line">        android:centerColor&#x3D;&quot;@android:color&#x2F;holo_blue_bright&quot;</span><br><span class="line">        android:endColor&#x3D;&quot;@android:color&#x2F;background_dark&quot;</span><br><span class="line">        android:startColor&#x3D;&quot;@android:color&#x2F;holo_red_dark&quot; &#x2F;&gt;</span><br><span class="line">    &lt;size android:height&#x3D;&quot;4dp&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;shape&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20190907145942185.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1poYWlLdW42OA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h1 id="3-RecyclerView-分割线设置方式三"><a href="#3-RecyclerView-分割线设置方式三" class="headerlink" title="3 RecyclerView 分割线设置方式三"></a>3 RecyclerView 分割线设置方式三</h1><h6 id="利用-item-与-RecyclerView-之间的-Margin，达到显示分割线的效果，分割线的颜色为-RecyclerView-的背景色。"><a href="#利用-item-与-RecyclerView-之间的-Margin，达到显示分割线的效果，分割线的颜色为-RecyclerView-的背景色。" class="headerlink" title="利用 item 与 RecyclerView 之间的 Margin，达到显示分割线的效果，分割线的颜色为 RecyclerView 的背景色。"></a>利用 item 与 RecyclerView 之间的 Margin，达到显示分割线的效果，分割线的颜色为 RecyclerView 的背景色。</h6><p>在 RecyclerView 适配器中的 onCreateViewHolder()方法中，加载 item 布局时进行设置：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 加载 item 的布局文件</span><br><span class="line"> *&#x2F;</span><br><span class="line">@NonNull</span><br><span class="line">@Override</span><br><span class="line">public RecyclerViewTestViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) &#123;</span><br><span class="line">    View view &#x3D; LayoutInflater.from(mContext).inflate(R.layout.item_recycler_view_test, parent, false);</span><br><span class="line">    RecyclerView.LayoutParams layoutParams &#x3D; (RecyclerView.LayoutParams) view.getLayoutParams();</span><br><span class="line">    layoutParams.bottomMargin &#x3D; 10;</span><br><span class="line">    view.setLayoutParams(layoutParams);</span><br><span class="line">    return new RecyclerViewTestViewHolder(view);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20190907151552852.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1poYWlLdW42OA==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h1 id="4-RecyclerView-分割线设置方式四"><a href="#4-RecyclerView-分割线设置方式四" class="headerlink" title="4 RecyclerView 分割线设置方式四"></a>4 RecyclerView 分割线设置方式四</h1><p>在之前提到的使用 Android 默认的方式来设置分割线的方法中，可以看到 DividerItemDecoration 类继承了 RecyclerView.ItemDecoration，那么我们也可以继承 RecyclerView.ItemDecoration，从而实现自己的分割线。</p>
<p>先看下源码：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * An ItemDecoration allows the application to add a special drawing and layout offset</span><br><span class="line"> * to specific item views from the adapter&#39;s data set. This can be useful for drawing dividers</span><br><span class="line"> * between items, highlights, visual grouping boundaries and more.</span><br><span class="line"> *</span><br><span class="line"> * &lt;p&gt;All ItemDecorations are drawn in the order they were added, before the item</span><br><span class="line"> * views (in &#123;@link ItemDecoration#onDraw(Canvas, RecyclerView, RecyclerView.State) onDraw()&#125;</span><br><span class="line"> * and after the items (in &#123;@link ItemDecoration#onDrawOver(Canvas, RecyclerView,</span><br><span class="line"> * RecyclerView.State)&#125;.&lt;&#x2F;p&gt;</span><br><span class="line"> *&#x2F;</span><br><span class="line">public abstract static class ItemDecoration &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * Draw any appropriate decorations into the Canvas supplied to the RecyclerView.</span><br><span class="line">     * Any content drawn by this method will be drawn before the item views are drawn,</span><br><span class="line">     * and will thus appear underneath the views.</span><br><span class="line">     *</span><br><span class="line">     * @param c Canvas to draw into</span><br><span class="line">     * @param parent RecyclerView this ItemDecoration is drawing into</span><br><span class="line">     * @param state The current state of RecyclerView</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void onDraw(@NonNull Canvas c, @NonNull RecyclerView parent, @NonNull State state) &#123;</span><br><span class="line">        onDraw(c, parent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * @deprecated</span><br><span class="line">     * Override &#123;@link #onDraw(Canvas, RecyclerView, RecyclerView.State)&#125;</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Deprecated</span><br><span class="line">    public void onDraw(@NonNull Canvas c, @NonNull RecyclerView parent) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * Draw any appropriate decorations into the Canvas supplied to the RecyclerView.</span><br><span class="line">     * Any content drawn by this method will be drawn after the item views are drawn</span><br><span class="line">     * and will thus appear over the views.</span><br><span class="line">     *</span><br><span class="line">     * @param c Canvas to draw into</span><br><span class="line">     * @param parent RecyclerView this ItemDecoration is drawing into</span><br><span class="line">     * @param state The current state of RecyclerView.</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void onDrawOver(@NonNull Canvas c, @NonNull RecyclerView parent,</span><br><span class="line">            @NonNull State state) &#123;</span><br><span class="line">        onDrawOver(c, parent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * @deprecated</span><br><span class="line">     * Override &#123;@link #onDrawOver(Canvas, RecyclerView, RecyclerView.State)&#125;</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Deprecated</span><br><span class="line">    public void onDrawOver(@NonNull Canvas c, @NonNull RecyclerView parent) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * @deprecated</span><br><span class="line">     * Use &#123;@link #getItemOffsets(Rect, View, RecyclerView, State)&#125;</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Deprecated</span><br><span class="line">    public void getItemOffsets(@NonNull Rect outRect, int itemPosition,</span><br><span class="line">            @NonNull RecyclerView parent) &#123;</span><br><span class="line">        outRect.set(0, 0, 0, 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * Retrieve any offsets for the given item. Each field of &lt;code&gt;outRect&lt;&#x2F;code&gt; specifies</span><br><span class="line">     * the number of pixels that the item view should be inset by, similar to padding or margin.</span><br><span class="line">     * The default implementation sets the bounds of outRect to 0 and returns.</span><br><span class="line">     *</span><br><span class="line">     * &lt;p&gt;</span><br><span class="line">     * If this ItemDecoration does not affect the positioning of item views, it should set</span><br><span class="line">     * all four fields of &lt;code&gt;outRect&lt;&#x2F;code&gt; (left, top, right, bottom) to zero</span><br><span class="line">     * before returning.</span><br><span class="line">     *</span><br><span class="line">     * &lt;p&gt;</span><br><span class="line">     * If you need to access Adapter for additional data, you can call</span><br><span class="line">     * &#123;@link RecyclerView#getChildAdapterPosition(View)&#125; to get the adapter position of the</span><br><span class="line">     * View.</span><br><span class="line">     *</span><br><span class="line">     * @param outRect Rect to receive the output.</span><br><span class="line">     * @param view    The child view to decorate</span><br><span class="line">     * @param parent  RecyclerView this ItemDecoration is decorating</span><br><span class="line">     * @param state   The current state of RecyclerView.</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public void getItemOffsets(@NonNull Rect outRect, @NonNull View view,</span><br><span class="line">            @NonNull RecyclerView parent, @NonNull State state) &#123;</span><br><span class="line">        getItemOffsets(outRect, ((LayoutParams) view.getLayoutParams()).getViewLayoutPosition(),</span><br><span class="line">                parent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ItemDecoration  类包含了三个主要的方法：onDraw()、onDrawOver()、getItemOffsets()</p>
]]></content>
      <categories>
        <category>Android开发基础</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>RecycleView</tag>
        <tag>分割线</tag>
        <tag>divider</tag>
      </tags>
  </entry>
  <entry>
    <title>Valine评论插件报错：Code 403</title>
    <url>/2020/11/17/valine-code-403/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在使用 Hexo 搭建博客过程中，集成了 Valine 评论插件，本地使用时正常，将项目部署至静态网站后，Valine 插件在页面使用处提示 Code 403错误。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Code 403: Access denied by API domain white list, Please check your security domain.</span><br></pre></td></tr></table></figure>

<p>大致意思是：访问被api域名白名单拒绝，请检查你的安全域名设置</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>在 <a href="https://www.leancloud.cn/">LeanCloud</a> 的【应用 &gt; 设置 &gt; 安全中心 &gt; Web安全域名】中添加新的自定义域名即可解决该问题。</p>
<p>此处【新的自定义域名】指的是：你的博客的访问域名。</p>
<p><strong>安全域名的具体添加方式根据 LeanCloud 的要求添加即可。</strong><br><img src="/imgs/valine-code-403-doman.png"></p>
]]></content>
      <categories>
        <category>Hexo配置问题汇总</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Valine插件</tag>
        <tag>Code 403</tag>
      </tags>
  </entry>
  <entry>
    <title>IM即时通讯</title>
    <url>/2020/11/24/third-party-im/</url>
    <content><![CDATA[<p><a href="http://www.chiefmore.com/yuntongxun/3643.jhtml">国内主流IM即时通讯平台综合评测</a></p>
<h1 id="1-网易云信"><a href="#1-网易云信" class="headerlink" title="1 网易云信"></a>1 网易云信</h1><p><a href="https://netease.im/">https://netease.im/</a></p>
<h1 id="2-环信"><a href="#2-环信" class="headerlink" title="2 环信"></a>2 环信</h1><p><a href="https://www.easemob.com/">https://www.easemob.com/</a></p>
<h1 id="3-融云"><a href="#3-融云" class="headerlink" title="3 融云"></a>3 融云</h1><p><a href="https://www.rongcloud.cn/">https://www.rongcloud.cn/</a></p>
<h1 id="4-极光"><a href="#4-极光" class="headerlink" title="4 极光"></a>4 极光</h1><p><a href="https://www.jiguang.cn/">https://www.jiguang.cn/</a></p>
<h1 id="5-容联云通讯"><a href="#5-容联云通讯" class="headerlink" title="5 容联云通讯"></a>5 容联云通讯</h1><p><a href="https://www.yuntongxun.com/">https://www.yuntongxun.com/</a></p>
<h1 id="6-LeanCloud"><a href="#6-LeanCloud" class="headerlink" title="6 LeanCloud"></a>6 LeanCloud</h1><p><a href="https://leancloud.cn/">https://leancloud.cn/</a></p>
<h1 id="7-亲加通讯云"><a href="#7-亲加通讯云" class="headerlink" title="7 亲加通讯云"></a>7 亲加通讯云</h1><p><a href="http://www.gotye.com.cn/">http://www.gotye.com.cn/</a></p>
<h1 id="8-aurora-imui-通用的即时通讯（IM）UI-库"><a href="#8-aurora-imui-通用的即时通讯（IM）UI-库" class="headerlink" title="8 aurora-imui 通用的即时通讯（IM）UI 库"></a>8 aurora-imui 通用的即时通讯（IM）UI 库</h1><p>Aurora IMUI 是个通用的即时通讯（IM）UI 库，不特定于任何 IM SDK。</p>
<p>本 UI 库提供了消息列表、输入视图等常用组件，支持常见的消息类型：文字、图片、语音、视频等。默认包含多套界面风格，也能根据自己的需要自定义。</p>
<p>项目地址：<a href="https://github.com/jpush/aurora-imui/blob/master/README_zh.md">https://github.com/jpush/aurora-imui/blob/master/README_zh.md</a></p>
<h1 id="9-国内主流IM即时通讯平台综合评测"><a href="#9-国内主流IM即时通讯平台综合评测" class="headerlink" title="9 国内主流IM即时通讯平台综合评测"></a>9 国内主流IM即时通讯平台综合评测</h1><blockquote>
<p>相关参考资料来源于 企业服务汇<br><a href="http://www.chiefmore.com/yuntongxun/3643.jhtml"> http://www.chiefmore.com/yuntongxun/3643.jhtml</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>服务平台</th>
<th>IM即时通讯功能服务与性能</th>
<th>IM即时通讯功能接入与部署方式</th>
<th>IM即时通讯功能收费</th>
</tr>
</thead>
<tbody><tr>
<td><strong>环信</strong></td>
<td>目前环信可以提供比==较完善的人与人之间的聊天与消息功能==，不过在==人与智能机器人聊天方面仅支持最基础的机器人服务，适用于在线客服类产品==，在这一点上与容联云通讯和网易云信相比有一定的不足。</td>
<td>在这四家服务商中，环信==唯一提供React Native demo接口来方便企业集成实现其IM功能==，这对于一些==使用JavaScript和React来开发原生的iOS和Android产品应用的企业来说十分友好==，它可以帮助企业有效提升产品IM功能的开发效率；另外环信支持上述全部的公有云、私有云、专有云、托管云以及海外部署方式，==企业在部署时面临的选择性非常灵活==。</td>
<td>目前环信、容联云通讯、极光推送、网易云信这四家云通讯平台，在IM即时通讯功能的收费价格方面，均按照基础IM功能（通常按照产品日活数收费）、增值IM功能（最典型的是实时音视频通话功能，按照使用分钟数收费）以及扩展IM功能分别进行收费。企业在选购时，需要根据自己的产品类型、实际需要的IM即时通讯功能以及实际的产品日活数来进行综合选择。</td>
</tr>
<tr>
<td>容联云通讯</td>
<td>目前容联云通讯提供==非常丰富的聊天与消息功能== ，==支持人与智能机器之间的单聊、群聊以及闲聊语料、天气查询等个性化聊天功能==，可有效提升用户使用体验和产品活跃度；不过容联云通讯在==性能水平方面，目前暂不支持智能反垃圾服务和敏感词过滤服务==，企业对于用户在聊天过程中产生的消息可能无法做到有效的实时监控，从而==不利于企业构建良好的网络聊天环境==。</td>
<td>目前容联云通讯==仅支持最基础的接入方式==，并且还==支持专有云部署方式==，与其他服务商相比并无特别之处。</td>
<td>目前环信、容联云通讯、极光推送、网易云信这四家云通讯平台，在IM即时通讯功能的收费价格方面，均按照基础IM功能（通常按照产品日活数收费）、增值IM功能（最典型的是实时音视频通话功能，按照使用分钟数收费）以及扩展IM功能分别进行收费。企业在选购时，需要根据自己的产品类型、实际需要的IM即时通讯功能以及实际的产品日活数来进行综合选择。</td>
</tr>
<tr>
<td>极光</td>
<td>目前极光推送==不提供聊天室功能（在视频直播类产品中经常用到）、实时音视频通话功能（在熟人社交/在线教育/在线医疗等需要直接通话才能实现有效沟通的产品中经常用到）以及人与智能机器人聊天等功能==，==仅可以为企业提供最基础的聊天与消息功能==，与其他服务商相比具有较为明显的不足，因此==仅能够满足企业产品最基本的IM即时通讯需求，适用于有轻量级的IM即时通讯功能需求的企业==。</td>
<td>目前与其他三家服务商相比，极光推送==支持的接入与部署方式均是最少的==，在这一点上有一定的不足。</td>
<td>目前环信、容联云通讯、极光推送、网易云信这四家云通讯平台，在IM即时通讯功能的收费价格方面，均按照基础IM功能（通常按照产品日活数收费）、增值IM功能（最典型的是实时音视频通话功能，按照使用分钟数收费）以及扩展IM功能分别进行收费。企业在选购时，需要根据自己的产品类型、实际需要的IM即时通讯功能以及实际的产品日活数来进行综合选择。</td>
</tr>
<tr>
<td><strong>网易云信</strong></td>
<td>与其他三家服务商相比，目前==网易云信提供的IM聊天与消息功能最为完善==，并且网易云信还==唯一支持用户托管==功能，可以帮助企业有效维护闲置的用户资料/关系；另外网易云信提供的==人与智能机器人聊天功能也比较丰富==，也支持人机之间的单聊、群聊等功能，==适用于在线教育、企业协同办公以及智能客服等产品==。</td>
<td>目前网易云信与其他三家服务商相比，==支持的接入方式最为全面==，并且==唯一支持macOS、Cocos-2d和Unity这三个平台系统的接入==，在这一点有较大的竞争优势。</td>
<td>目前环信、容联云通讯、极光推送、网易云信这四家云通讯平台，在IM即时通讯功能的收费价格方面，均按照基础IM功能（通常按照产品日活数收费）、增值IM功能（最典型的是实时音视频通话功能，按照使用分钟数收费）以及扩展IM功能分别进行收费。企业在选购时，需要根据自己的产品类型、实际需要的IM即时通讯功能以及实际的产品日活数来进行综合选择。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>服务平台</th>
<th>IM即时通讯功能服务与性能</th>
<th>IM即时通讯功能接入与部署方式</th>
<th>IM即时通讯功能收费</th>
</tr>
</thead>
<tbody><tr>
<td><strong>融云</strong></td>
<td>与其他两家服务商相比，==融云唯一提供非常完整的实时音视频通话功能，并且支持企业基于此功能实现视频会议功能，在这一点融云有着较大的竞争优势==。同时融云还支持==在后台为企业提供完善的后台数据统计功能==，方便企业直接查看用户活跃以及费用消耗方面的数据。</td>
<td>与其他两家服务商相比，目前融云==唯一支持macOS、Linux等平台系统的接入==，对于基于这两大平台开发产品的企业非常友好，企业可以实现快速接入；另外融云也==可以单独提供专有云部署服务==，通过为企业提供专有的服务集群和海外数据中心，来充分满足企业的特殊需求，企业在部署方式方面选择性很强。</td>
<td>目前融云、LeanCloud、亲加通讯云这三家云通讯平台，在IM即时通讯功能的收费价格方面，其收费方式和收费标准各不一样，具体如下：融云主要是按照产品日活数按月收费；LeanCloud主要是按照产品日活数按天收费（其中美国和中国分别收费）；而亲加通讯云因为本身仅专注于为企业的视频直播和游戏类产品提供服务，因此按照直播时的使用带宽峰值以及产品日活数分别收费。企业在选购时，需要明确自己产品的类型、需要的IM即时通讯功能以及目前比较稳定的产品日活数来综合对比进行选择。</td>
</tr>
<tr>
<td>LeanCloud</td>
<td>目前LeanCloud==不支持实时音视频通话功能==，仅为企业==提供最基础的聊天服务==；同时LeanCloud在海外仅支持美国用户使用其服务，不支持全球范围内的其他国家或地区使用，与另外两家服务商相比有一定的不足。</td>
<td>目前LeanCloud仅==支持最基础最常见的接入与部署方式==，与其他两家服务商相比表现较为一般。</td>
<td>目前融云、LeanCloud、亲加通讯云这三家云通讯平台，在IM即时通讯功能的收费价格方面，其收费方式和收费标准各不一样，具体如下：融云主要是按照产品日活数按月收费；LeanCloud主要是按照产品日活数按天收费（其中美国和中国分别收费）；而亲加通讯云因为本身仅专注于为企业的视频直播和游戏类产品提供服务，因此按照直播时的使用带宽峰值以及产品日活数分别收费。企业在选购时，需要明确自己产品的类型、需要的IM即时通讯功能以及目前比较稳定的产品日活数来综合对比进行选择。</td>
</tr>
<tr>
<td>亲加通讯云</td>
<td>亲加通讯云与其他两家服务商最大的不同在于——亲加通讯云本身==仅专注于为企业的视频直播以及游戏类产品提供IM即时通讯服务==，这一点企业在选购时需要特别注意。另外亲加通讯云==可以为企业提供最基础的聊天功能以及实时音频通话功能==，通常==适用于游戏类的产品==。</td>
<td>与其他两家服务商相比，目前亲加通讯云==最大的不同在于——在接入方式上唯一支持Unity和Cocos-2d这两大手游引擎的接入，因此非常适用于开发游戏类产品的企业==。</td>
<td>目前融云、LeanCloud、亲加通讯云这三家云通讯平台，在IM即时通讯功能的收费价格方面，其收费方式和收费标准各不一样，具体如下：融云主要是按照产品日活数按月收费；LeanCloud主要是按照产品日活数按天收费（其中美国和中国分别收费）；而亲加通讯云因为本身仅专注于为企业的视频直播和游戏类产品提供服务，因此按照直播时的使用带宽峰值以及产品日活数分别收费。企业在选购时，需要明确自己产品的类型、需要的IM即时通讯功能以及目前比较稳定的产品日活数来综合对比进行选择。</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>第三方开发API</category>
      </categories>
      <tags>
        <tag>即时通讯</tag>
        <tag>网易云信</tag>
        <tag>环信</tag>
        <tag>融云</tag>
      </tags>
  </entry>
  <entry>
    <title>Android WebView 加载闪退问题处理（Error inflating class android.webkit.WebView）</title>
    <url>/2020/11/24/webview-load-crash/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在布局文件中直接使用 WebView ，Activity 运行时，APP崩溃</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">    android:background&#x3D;&quot;@color&#x2F;appBg&quot;</span><br><span class="line">    android:orientation&#x3D;&quot;vertical&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;WebView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;webView&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;match_parent&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<h2 id="关键异常"><a href="#关键异常" class="headerlink" title="关键异常"></a>关键异常</h2><p>1 Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class android.webkit.WebView</p>
<p>2 Caused by: android.content.res.Resources$NotFoundException: String resource ID #0x2040003</p>
<h1 id="异常问题分析"><a href="#异常问题分析" class="headerlink" title="异常问题分析"></a>异常问题分析</h1><p>简要概述为：</p>
<p>系统 WebView 出现了问题</p>
<p>一般是特殊机型或刷机后导致系统WebView被卸载或文件缺失的情况</p>
<p>也有者为系统WebView为64位的，并不支持</p>
<p>推荐以下两篇博客，写的很详细</p>
<p><a href="https://blog.csdn.net/hmmhhmmhmhhm/article/details/78072108">解决用WebView去加载网页在部分手机上闪退问题</a></p>
<p><a href="https://stackoverflow.com/questions/41025200/android-view-inflateexception-error-inflating-class-android-webkit-webview">android.view.InflateException Error inflating class android.webkit.WebView</a></p>
<h1 id="解决方案汇总"><a href="#解决方案汇总" class="headerlink" title="解决方案汇总"></a>解决方案汇总</h1><h2 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h2><p>在 app 下的 build.gradle 配置文件中，将 androidx.appcompat:appcompat 的版本改为 1.0.2</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;</span><br></pre></td></tr></table></figure>
<h2 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h2><p>在 AndroidManifest.xml 文件的 application 标签下增加如下配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;meta-data</span><br><span class="line">           android:name&#x3D;&quot;android.webkit.WebView.EnableSafeBrowsing&quot;</span><br><span class="line">           android:value&#x3D;&quot;true&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
<h2 id="方案三"><a href="#方案三" class="headerlink" title="方案三"></a>方案三</h2><p>使用第三方的浏览器内核</p>
<p>如腾讯提供的浏览器内核SDK</p>
]]></content>
      <categories>
        <category>Android开发问题汇总</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Webview</tag>
        <tag>加载闪退问题处理</tag>
        <tag>崩溃</tag>
      </tags>
  </entry>
</search>
